!(function(t,e,n,r,i,o,a,f,u,c,s){"use strict";function l(e){var n=this,r=this._debugCache=[];this.get=(function(){for(var t=["data","metadata"],e=new c(t.length),n=0,i=e.length;n<i;++n)e[n]=t[n]+"Only";return function(n,i){var o=null;if(typeof n!==A)return o;var a=E(r,n);if(a===-1)return o;if(o=r[a],F()-o.metadata.updated>_)return this.unset(n),null;if(i)for(var f=0,u=0,c=e.length;f<c;++f)if(i[e[f]]){if(u++)throw M("Options",e,P|j|N|O);o=o[t[f]]}return o}})(),this.has=function(t){return typeof t===A&&E(r,t)>-1},this.set=function(t,e){if(typeof A!==h&&b("keyType",typeof t),typeof t!==A)throw M("Key","a "+A,x,i);if(null==e)throw M("Data",[d,v],N|j,i);var n=E(r,t);n===-1&&(n=r.length+1),n>=2*z&&(n=y("_oldestIndex"));var o={data:e},a=o.metadata={updated:F()},f=r[n]&&r[n].metadata&&typeof r[n].metadata.created===g?r[n].metadata:a;return a.created=f.created||f.updated,m.freeze&&S(o),r[n-1]=t,r[n]=o,I(r),o},this.unset=function(t){var e=null;if(typeof t!==A)return e;var n=E(r,t),i=r.length;if(n===-1)return e;if(i>2)for(var o,a=1;a>=0;--a)o=r[n-a],r[n-a]=r[i-a-1],r[i-a-1]=o;return e=r.pop(),r.pop(),I(r),e},this.iterate=function(t,e){for(var n,i,o=0,a=r.length;o<a;o+=2)n=r[o],i=this.get(n,e),null!==i&&t(n,i)},this.map=function(t,e){for(var n,i,o,a=!e||!e.dataOnly,f=0,u=r.length;f<u;f+=2)n=r[f],i=this.get(n,e),null!==i&&(o=t(n,i),this.set(n,a?o.data:o))},this.filter=function(t,e){for(var n,i,o,a,f,u=0,c=r.length;u<c;)if(n=r[u],i=this.get(n,e),null===i||t(n,this.get(n,e)))u+=2;else{for(var s=0;s<2;++s)o=u+s,a=c-2+s,f=r[o],r[o]=r[a],r[a]=f;c=r.length-=2;for(var l=u,y=c-2;l<y;l+=2)for(var p=0;p<2;++p)o=l+p,a=o+2,f=r[o],r[o]=r[a],r[a]=f}},this.clear=function(){r=[]};var a=function(t,e){var n=0,r="_"===e.charAt(n)?(++n,"_"):"";return r+=t+e.charAt(n).toUpperCase(),r+e.slice(n+1)},l=function(t,e){if(m.defineProperty)u.defineProperty(n,t,e);else for(var r,i=["g","s"],o=0,f=i.length;o<f;++o)r=i[o]+"et",typeof e[r]===p&&(n[a(r,t)]=e[r])},y=function(t){return m.defineProperty?n[t]:n[a("get",t)]()},b=function(t,e){return m.defineProperty?n[t]=e:n[a("set",t)](e)},A=null;l("keyType",{get:function(){return A},set:(function(){var t=M("keyType",w,N|T,i);return function(e){if(e!==A){if(!w.includes(e))throw t;A=e}}})()}),e&&typeof e.keyType!==d&&b("keyType",e.keyType),l("size",{get:function(){return r.length/2},set:function(t){if(!(t>=y("size"))){var e="capacity",n=function(t){b(e,t)},r=y(e);n(t),n(r)}}});var z=0;l("capacity",{get:function(){return z},set:(function(){var t=function(t,e,n){return M("capacity",t,T|e,n)};return function(e){if(e!==z){if(typeof e!==g||isNaN(e))throw t("a number (excluding NaN)",x,i);if(e<0)throw t("negative",j,o);if(e<z)for(var a=f.min(z,n.size)-e,u=0;u<a;++u){var c=y("_oldestIndex");n.unset(r[c-1])}z=f.min(f.round(e),k)}}})()}),b("capacity",e&&typeof e.capacity!==d?e.capacity:k);var _=t.Infinity;l("maxAge",{get:function(){return _},set:(function(){var t=function(t,e,n){return M("maxAge",t,T|e,n)};return function(e){if(e!==_){if(typeof e!==g||isNaN(e))throw t("a number of milliseconds",x,i);if(e<0)throw t("negative",j,o);_=e}}})()}),e&&typeof e.maxAge!==d&&b("maxAge",e.maxAge),l("_oldestIndex",{get:function(){for(var e=1,n=s.MAX_VALUE||t.Infinity,i=e,o=r.length;i<o;i+=2)r[i].metadata.updated<n&&(n=r[i].metadata.updated,e=i);return e}})}var y="object",p="function",h="string",g="number",d="undefined",v="null",m=(function(t){for(var e={},n=0,r=t.length;n<r;++n){var i=t[n];e[i.key]=typeof(i.object||u)[i.key]===(i.type||p)}return e})([{key:"assign"},{key:"defineProperty"},{key:"freeze"},{key:"now",object:a},{key:"includes",object:c.prototype},{key:"isArray",object:c}]),w=[h,g];if(!m.includes){var b=function(t){for(var e=0,n=this.length;e<n;++e)if(t===this[e])return!0;return!1};w.includes=b}var A=4294967295,k=f.floor(A/2),x=0,z=1,T=1,j=2,N=4,P=8,O=16,_=1,E=function(t,e){for(var n=0,r=t.length-1;;){var i=2*f.floor((n+r)/4);if(t[i]===e)return i+1;if(n>=r)return-1;e<t[i]?r=i-2:e>t[i]&&(n=i+2)}},I=function(t){for(var e,n,r=0,i=t.length;r<i;r+=2){var o=t[r],a=t[r+1];for(e=r-2;e>-1&&!(t[e]<=o);e-=2)for(n=e;n<e+2;n++)t[n+2]=t[n];t[e+2]=o,t[e+3]=a}},S=function(t){for(var e in t)typeof t===y&&S(t[e]);u.freeze(t)},C=(function(){var t="isArray";return m[t]?c[t]:function(t){"[object Array]"===u.prototype.toString.call(t)}})(),D=function(t,e){var n="";if(C(t))for(var r,i=0,o=t.length;i<o;++i)r='"'+t[i].toString()+'"',n+=i<o-2?r+", ":i<o-1?r:" "+(e&z?"or":"and")+" "+r;return n},M=function(t,e,n,i){var o=(n&T?"Property ["+t+"]":t)+" "+(n&j?"cannot":"must")+" "+(n&O?"contain":"be")+" "+(n&P?"more than ":"")+(n&N?"one of the following: "+D(e,z):e)+".",a=typeof i===p&&typeof i.name===h&&"Error"===i.name.slice(-5);return new(a?i:r)(o)},U=(function(){var t="assign";return m[t]?u[t]:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(null==t)throw M("Target object",[d,v],N|j,i);for(var o,a=u(t),f=0,c=n.length;f<c;++f)if(null!=(o=n[f]))for(var s in o)u.prototype.hasOwnProperty.call(o,s)&&(a[s]=o[s]);return a}})(),F=(function(){var t="now",e=m[t];return function(n){var r=(e?a[t]:(new a).getTime)();return n&_?f.round(r/1e3):r}})(),G=(function(t){for(var e=[l,l.prototype],n=function(){return m.defineProperty},r=0,i=e.length;r<i;++r)e[r][t]=n;return n()})("supportsNativeGettersAndSetters"),K={getData:(function(t){return function(e){return this.get(e,t)}})({dataOnly:!0}),getMetadata:(function(t){return function(e){return this.get(e,t)}})({metadataOnly:!0}),isFull:function(){return G?this.size===this.capacity:this.getSize()===this.getCapacity()},isEmpty:function(){return 0===(G?this.size:this.getSize())}};U(l.prototype,K);var L="DataCache";typeof e===y&&typeof e.exports===y?e.exports=l:typeof n===p&&n.amd?n([L],[],l):t[L]=l})(null!=this.window?this.window:null!=this.global?this.global:this,this.module,this.define,Error,TypeError,RangeError,Date,Math,Object,Array,Number);