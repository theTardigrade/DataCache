!(function(t,e,n,r,i,o,a,f,u,c,l){"use strict";function s(e){var n=this,r=this._debugCache=[];this.get=(function(){for(var t=["data","metadata"],e=new c(t.length),n=0,i=e.length;n<i;++n)e[n]=t[n]+"Only";return function(n,i){var o=null;if(typeof n!==A)return o;var a=E(r,n);if(a===-1)return o;if(o=r[a],G()-o.metadata.updated>U)return this.unset(n),null;if(i)for(var f=0,u=0,c=e.length;f<c;++f)if(i[e[f]]){if(u++)throw D("Options",e,x|N|P|O);o=o[t[f]]}return o}})(),this.has=function(t){return typeof t===A&&E(r,t)>-1},this.set=function(t,e){if(typeof A!==y&&b("keyType",typeof t),typeof t!==A)throw D("Key",A,_,i);if(null==e)throw D("Data",[g,v],P|N,i);var n=E(r,t);n===-1&&(n=r.length+1),n>=2*C&&(n=h("_oldestIndex"));var o={data:e},a=o.metadata={updated:G()};return a.created=r[n]&&r[n].metadata&&typeof r[n].metadata.created===d?r[n].metadata.created:a.updated,m.freeze&&S(o),r[n-1]=t,r[n]=o,I(r),o},this.unset=function(t){var e=null;if(typeof t!==A)return e;var n=E(r,t),i=r.length;if(n===-1)return e;if(i>2)for(var o,a=1;a>=0;--a)o=r[n-a],r[n-a]=r[i-a-1],r[i-a-1]=o;return e=r.pop(),r.pop(),I(r),e},this.collectGarbage=function(){for(var t=1,e=r.length;t<e;t+=2)G()-r[t].metadata.updated>U&&this.unset(r[t-1])},this.iterate=function(t,e){for(var n,i,o=0,a=r.length;o<a;o+=2)n=r[o],i=this.get(n,e),null!==i&&t(n,i)},this.map=function(t,e){for(var n,i,o,a=!e||!e.dataOnly,f=0,u=r.length;f<u;f+=2)n=r[f],i=this.get(n,e),null!==i&&(o=t(n,i),this.set(n,a?o.data:o))},this.filter=function(t,e){for(var n,i,o,a,f,u=0,c=r.length;u<c;)if(n=r[u],i=this.get(n,e),null===i||t(n,this.get(n,e)))u+=2;else{for(var l=0;l<2;++l)o=u+l,a=c-2+l,f=r[o],r[o]=r[a],r[a]=f;c=r.length-=2;for(var s=u,h=c-2;s<h;s+=2)for(var p=0;p<2;++p)o=s+p,a=o+2,f=r[o],r[o]=r[a],r[a]=f}},this.clear=function(){r=[]};var a=function(t,e){var n=0,r="_"===e.charAt(n)?(++n,"_"):"";return r+=t+e.charAt(n).toUpperCase(),r+e.slice(n+1)},s=function(t,e){if(m.defineProperty)u.defineProperty(n,t,e);else for(var r,i=["g","s"],o=0,f=i.length;o<f;++o)r=i[o]+"et",typeof e[r]===p&&(n[a(r,t)]=e[r])},h=function(t){return m.defineProperty?n[t]:n[a("get",t)]()},b=function(t,e){return m.defineProperty?n[t]=e:n[a("set",t)](e)},A=null,z="keyType";s(z,{get:function(){return A},set:(function(){var t=D(z,w,P|j,i);return function(e){if(e!==A||null===e){if(!w.includes(e))throw t;n.clear(),A=e}}})()}),e&&typeof e[z]!==g&&b(z,e[z]);var T="size";s(T,{get:function(){return U<t.Infinity&&n.clean(),r.length/2},set:function(t){if(!(t>=h(T))){var e="capacity",n=function(t){b(e,t)},r=h(e);n(t),n(r)}}});var C=0,M="capacity";s(M,{get:function(){return C},set:(function(){var t=function(t,e,n){return D(M,t,j|e,n)};return function(e){if(e!==C){if(typeof e!==d||isNaN(e))throw t(d+" (excluding NaN)",_,i);if(e<0)throw t("negative",N,o);if(e<C)for(var a=f.min(C,h("size"))-e,u=0;u<a;++u){var c=h("_oldestIndex");n.unset(r[c-1])}C=f.min(f.round(e),k)}}})()}),b(M,e&&typeof e[M]!==g?e[M]:k);var U=t.Infinity,F="maxAge";s(F,{get:function(){return U},set:(function(){var t=function(t,e,n){return D(F,t,j|e,n)};return function(e){if(e!==U){if(typeof e!==d||isNaN(e))throw t(d+" of milliseconds",_,i);if(e<0)throw t("negative",N,o);U=e}}})()}),e&&typeof e[F]!==g&&b(F,e[F]),s("_oldestIndex",{get:function(){for(var e=1,n=l.MAX_VALUE||t.Infinity,i=e,o=r.length;i<o;i+=2)r[i].metadata.updated<n&&(n=r[i].metadata.updated,e=i);return e}})}var h="object",p="function",y="string",d="number",g="undefined",v="null",m=(function(t){for(var e={},n=0,r=t.length;n<r;++n){var i=t[n];e[i.key]=typeof(i.object||u)[i.key]===(i.type||p)}return e})([{key:"assign"},{key:"defineProperty"},{key:"freeze"},{key:"now",object:a},{key:"includes",object:c.prototype},{key:"isArray",object:c}]),w=[y,d];if(!m.includes){var b=function(t){for(var e=0,n=this.length;e<n;++e)if(t===this[e])return!0;return!1};w.includes=b}var A=4294967295,k=f.floor(A/2),z=1,j=1,N=2,P=4,x=8,O=16,_=32,E=function(t,e){for(var n=0,r=t.length-1;;){var i=2*f.floor((n+r)/4);if(t[i]===e)return i+1;if(n>=r)return-1;e<t[i]?r=i-2:e>t[i]&&(n=i+2)}},I=function(t){for(var e,n,r=0,i=t.length;r<i;r+=2){var o=t[r],a=t[r+1];for(e=r-2;e>-1&&!(t[e]<=o);e-=2)for(n=e;n<e+2;n++)t[n+2]=t[n];t[e+2]=o,t[e+3]=a}},S=function(t){for(var e in t)typeof t===h&&S(t[e]);u.freeze(t)},T=(function(){var t="isArray";return m[t]?c[t]:function(t){"[object Array]"===u.prototype.toString.call(t)}})(),C=function(t,e){var n="";if(T(t))for(var r,i=0,o=t.length;i<o;++i)r='"'+t[i].toString()+'"',n+=i<o-2?r+", ":i<o-1?r:" "+(e&z?"or":"and")+" "+r;return n},D=function(t,e,n,i){var o=(n&j?"Property ["+t+"]":t)+" "+(n&N?"cannot":"must")+" "+(n&O?"contain":"be")+" "+(n&x?"more than ":"")+(n&_?"a ":"")+(n&P?"one of the following: "+C(e,z):e)+".",a=typeof i===p&&typeof i.name===y&&"Error"===i.name.slice(-5);return new(a?i:r)(o)},M=(function(){var t="assign";return m[t]?u[t]:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(null==t)throw D("Target object",[g,v],P|N,i);for(var o,a=u(t),f=0,c=n.length;f<c;++f)if(null!=(o=n[f]))for(var l in o)u.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l]);return a}})(),G=(function(){var t="now",e=m[t];return function(n){var r=(e?a[t]:(new a).getTime)();return r}})(),U=(function(t){for(var e=[s,s.prototype],n=function(){return m.defineProperty},r=0,i=e.length;r<i;++r)e[r][t]=n;return n()})("supportsNativeGettersAndSetters"),F={getData:(function(t){return function(e){return this.get(e,t)}})({dataOnly:!0}),getMetadata:(function(t){return function(e){return this.get(e,t)}})({metadataOnly:!0}),isFull:function(){return U?this.size===this.capacity:this.getSize()===this.getCapacity()},isEmpty:function(){return 0===(U?this.size:this.getSize())}};M(s.prototype,F);var K="DataCache";typeof e===h&&typeof e.exports===h?e.exports=s:typeof n===p&&n.amd?n([K],[],s):t[K]=s})(null!=this.window?this.window:null!=this.global?this.global:this,this.module,this.define,Error,TypeError,RangeError,Date,Math,Object,Array,Number);