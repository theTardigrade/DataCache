!(function(){var t="object",e="function",r="string",n="number",i="undefined";!(function(a,o,f,u,s,c,y,p,h,d){"use strict";function l(o){var f=this,l=this._debugCache=[];this.get=(function(){for(var t=["data","metadata"],e=new h(t.length),r=0,n=e.length;r<n;++r)e[r]=t[r]+"Only";return function(r,n){var i=null;if(typeof r!==P)return i;var a=A(l,r);if(a===-1)return i;if(i=l[a],n)for(var o=0,f=0,s=e.length;f<s;++f)if(n[e[f]]){if(o)throw new u("The "+T(e)+" options are mutually contradictory.");i=i[t[f]],++o}return i}})(),this.has=function(t){return typeof t===P&&A(l,t)>-1},this.set=function(e,i){if(typeof P!==r&&N("keyType",typeof e),typeof e!==P)throw new s("Key must be a "+P+".");var a=A(l,e);a===-1&&(a=l.length+1),a>=2*j&&(a=b("_oldestIndex")),typeof i===t&&v.freeze&&p.freeze(i);var o={data:i},f=o.metadata={updated:v.now?c.now():(new c).getTime()},u=l[a]&&l[a].metadata&&typeof l[a].metadata.created===n?l[a].metadata:f;return f.created=u.created||u.updated,l[a-1]=e,l[a]=o,z(l),o},this.unset=function(t){if(typeof t!==P)return!1;var e=A(l,t),r=l.length;if(e===-1)return!1;if(r>2)for(var n,i=1;i>=0;--i)n=l[e-i],l[e-i]=l[r-i-1],l[r-i-1]=n;for(var a=0;a<2;++a)l.pop();return!z(l)},this.iterate=function(t,e){for(var r=this,n=function(t){return r.get(t,e)},i=0,a=l.length;i<a;i+=2){var o=l[i];typeof o===P&&t(o,n(o))}},this.clear=function(){return!!(l=[])};var g=function(t,e){var r=0,n="_"===e.charAt(r)?(++r,"_"):"";return n+=t+e.charAt(r).toUpperCase(),n+e.slice(r+1)},w=function(t,r){if(v.defineProperty)p.defineProperty(f,t,r);else for(var n,i=["g","s"],a=0,o=i.length;a<o;++a)n=i[a]+"et",typeof r[n]===e&&(f[g(n,t)]=r[n])},b=function(t){return v.defineProperty?f[t]:f[g("get",t)]()},N=function(t,e){return v.defineProperty?f[t]=e:f[g("set",t)](e)},P=null;w("keyType",{get:function(){return P},set:(function(){var t="The only allowable key types are "+T(m)+".";return function(e){if(e!==P){if(!m.includes(e))throw new s(t);P=e}}})()}),o&&typeof o.keyType!==i&&N("keyType",o.keyType),w("size",{get:function(){return l.length/2}});var j=0;w("capacity",{get:function(){return j},set:function(t){if(typeof t!==n||t<0||t===j)return!1;if(t<j)for(var e=0,r=y.min(f.size,t);e<r;e+=2){var i=f._getOldestIndex();f.unset(l[i-1])}var a=t===n||isNaN(t)?t:parseInt(t,10);if(a=y.min(a,k),isNaN(a))throw new s("Suggested capacity cannot be parsed.");return j=y.max(a,0),!0}}),N("capacity",o&&typeof o.capacity!==i?o.capacity:k),w("_oldestIndex",{get:function(){for(var t=1,e=d.MAX_VALUE||a.Infinity,r=t,n=l.length;r<n;r+=2)l[r].metadata.updated<e&&(e=l[r].metadata.updated,t=r);return t}})}var g=typeof o===t&&typeof o.exports===t&&typeof f===t&&typeof f.versions===t&&!isNaN(parseFloat(f.versions.node,10)),v=(function(t){for(var r={},n=0,i=t.length;n<i;++n){var a=t[n];r[a.key]=typeof(a.object||p)[a.key]===(a.type||e)}return r})([{key:"assign"},{key:"defineProperty"},{key:"freeze"},{key:"now",object:c},{key:"includes",object:h.prototype},{key:"isArray",object:h}]),m=[r,n];if(!v.includes){var w=function(t){for(var e=0,r=this.length;e<r;++e)if(t===this[e])return!0;return!1};m.includes=w}var b=4294967295,k=y.floor(b/2),A=function(t,e){for(var r=0,n=t.length-1;;){var i=2*y.floor((r+n)/4);if(t[i]===e)return i+1;if(r>=n)return-1;e<t[i]?n=i-2:e>t[i]&&(r=i+2)}},z=function(t){for(var e,r,n=0,i=t.length;n<i;n+=2){var a=t[n],o=t[n+1];for(e=n-2;e>-1&&!(t[e]<=a);e-=2)for(r=e;r<e+2;r++)t[r+2]=t[r];t[e+2]=a,t[e+3]=o}},T=function(t){var e="";if(v.isArray?h.isArray(t):"[object Array]"===p.prototype.toString.call(t))for(var r,n=0,i=t.length;n<i;++n)r='"'+t[n]+'"',e+=n<i-2?r+", ":n<i-1?r:" and "+r;return e};!(function(t){if(v.assign)p.assign(l.prototype,t);else for(var e in t)l.prototype[e]=t[e]})({getData:(function(t){return function(e){return this.get(e,t)}})({dataOnly:!0}),getMetadata:(function(t){return function(e){return this.get(e,t)}})({metadataOnly:!0}),map:function(t,e){var r=this;this.iterate((function(n,a){var o=t(n,a);e&&e.dataOnly||(o=o.data),typeof o!==i&&r.set(n,o)}),e)},filter:function(t,e){var r=[];this.iterate((function(e,n){t(e,n)||r.push(e)}),e);for(var n=0,i=r.length;n<i;++n)this.unset(r[n])},isFull:function(){return v.defineProperty?this.size===this.capacity:this.getSize()===this.getCapacity()},isEmpty:function(){return 0===(v.defineProperty?this.size:this.getSize())},supportsNativeGettersAndSetters:function(){return v.defineProperty}}),g?o.exports=l:a.DataCache=l})(typeof this.window===t?this.window:typeof this.global===t?this.global:this,this.module,this.process,Error,TypeError,Date,Math,Object,Array,Number)})();