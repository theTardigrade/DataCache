!(function(){var t="object",e="function",r="string",n="number",i="undefined";!(function(o,a,f,u,c,s,y,p,l,h,d){"use strict";function g(t){var a=this,f=this._debugCache=[];this.get=(function(){for(var t=["data","metadata"],e=new h(t.length),r=0,n=e.length;r<n;++r)e[r]=t[r]+"Only";return function(r,n){var i=null;if(typeof r!==N)return i;var o=_(f,r);if(o===-1)return i;if(i=f[o],n)for(var a=0,c=0,s=e.length;a<s;++a)if(n[e[a]]){if(c++)throw new u("The "+O(e)+" options are mutually contradictory.");i=i[t[a]]}return i}})(),this.has=function(t){return typeof t===N&&_(f,t)>-1},this.set=function(t,e){if(typeof N!==r&&z("keyType",typeof t),typeof t!==N)throw C("Key","a "+N,A,c);if(typeof e===i||null===e)return this.unset(t);var o=_(f,t);o===-1&&(o=f.length+1),o>=2*S&&(o=b("_oldestIndex"));var a={data:e},u=a.metadata={updated:v.now?y.now():(new y).getTime()},s=f[o]&&f[o].metadata&&typeof f[o].metadata.created===n?f[o].metadata:u;return u.created=s.created||s.updated,v.freeze&&E(a),f[o-1]=t,f[o]=a,x(f),a},this.unset=function(t){var e=null;if(typeof t!==N)return e;var r=_(f,t),n=f.length;if(r===-1)return e;if(n>2)for(var i,o=1;o>=0;--o)i=f[r-o],f[r-o]=f[n-o-1],f[n-o-1]=i;return e=f.pop(),f.pop(),x(f),e},this.iterate=function(t,e){for(var r,n=0,i=f.length;n<i;n+=2)r=f[n],t(r,this.get(r,e))},this.map=function(t,e){for(var r,n,i=!e||!e.dataOnly,o=0,a=f.length;o<a;o+=2)r=f[o],n=t(r,this.get(r,e)),this.set(r,i?n.data:n)},this.filter=function(t,e){for(var r,n,i,o,a=0,u=f.length;a<u;)if(r=f[a],t(r,this.get(r,e)))a+=2;else{for(var c=0;c<2;++c)n=a+c,i=u-2+c,o=f[n],f[n]=f[i],f[i]=o;u=f.length-=2;for(var s=a,y=u-2;s<y;s+=2)for(var p=0;p<2;++p)n=s+p,i=n+2,o=f[n],f[n]=f[i],f[i]=o}},this.clear=function(){f=[]};var g=function(t,e){var r=0,n="_"===e.charAt(r)?(++r,"_"):"";return n+=t+e.charAt(r).toUpperCase(),n+e.slice(r+1)},w=function(t,r){if(v.defineProperty)l.defineProperty(a,t,r);else for(var n,i=["g","s"],o=0,f=i.length;o<f;++o)n=i[o]+"et",typeof r[n]===e&&(a[g(n,t)]=r[n])},b=function(t){return v.defineProperty?a[t]:a[g("get",t)]()},z=function(t,e){return v.defineProperty?a[t]=e:a[g("set",t)](e)},N=null;w("keyType",{get:function(){return N},set:(function(){var t=C("keyType",m,j|P,c);return function(e){if(e!==N){if(!m.includes(e))throw t;N=e}}})()}),t&&typeof t.keyType!==i&&z("keyType",t.keyType),w("size",{get:function(){return f.length/2},set:function(t){if(!(t>=b("size"))){var e="capacity",r=function(t){z(e,t)},n=b(e);r(t),r(n)}}});var S=0;w("capacity",{get:function(){return S},set:(function(){var t=function(t,e,r){return C("capacity",t,P|e,r)};return function(e){if(e!==S){if(typeof e!==n||isNaN(e))throw t("a number (excluding NaN)",A,c);if(e<0)throw t("negative",T,s);if(e<S)for(var r=p.min(S,a.size)-e,i=0;i<r;++i){var o=b("_oldestIndex");a.unset(f[o-1])}S=p.min(p.round(e),k)}}})()}),z("capacity",t&&typeof t.capacity!==i?t.capacity:k),w("_oldestIndex",{get:function(){for(var t=1,e=d.MAX_VALUE||o.Infinity,r=t,n=f.length;r<n;r+=2)f[r].metadata.updated<e&&(e=f[r].metadata.updated,t=r);return t}})}var v=(function(t){for(var r={},n=0,i=t.length;n<i;++n){var o=t[n];r[o.key]=typeof(o.object||l)[o.key]===(o.type||e)}return r})([{key:"assign"},{key:"defineProperty"},{key:"freeze"},{key:"now",object:y},{key:"includes",object:h.prototype},{key:"isArray",object:h}]),m=[r,n];if(!v.includes){var w=function(t){for(var e=0,r=this.length;e<r;++e)if(t===this[e])return!0;return!1};m.includes=w}var b=4294967295,k=p.floor(b/2),A=0,z=1,P=1,T=2,j=4,_=function(t,e){for(var r=0,n=t.length-1;;){var i=2*p.floor((r+n)/4);if(t[i]===e)return i+1;if(r>=n)return-1;e<t[i]?n=i-2:e>t[i]&&(r=i+2)}},x=function(t){for(var e,r,n=0,i=t.length;n<i;n+=2){var o=t[n],a=t[n+1];for(e=n-2;e>-1&&!(t[e]<=o);e-=2)for(r=e;r<e+2;r++)t[r+2]=t[r];t[e+2]=o,t[e+3]=a}},E=function(e){for(var r in e)typeof e===t&&E(e[r]);l.freeze(e)},N=function(t){return v.isArray?h.isArray(t):"[object Array]"===l.prototype.toString.call(t)},O=function(t,e){var r="";if(N(t))for(var n,i=0,o=t.length;i<o;++i)n='"'+t[i].toString()+'"',r+=i<o-2?n+", ":i<o-1?n:" "+(e&z?"or":"and")+" "+n;return r},C=function(t,n,i,o){var a=(i&P?"Property ["+t+"]":t)+" "+(i&T?"cannot":"must")+" be "+(i&j?"one of the following: "+O(n,z):n)+".",f=typeof o===e&&typeof o.name===r&&"Error"===o.name.slice(-5);return new(f?o:u)(a)},S=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];if(v.assign)return l.assign.apply(l,[t].concat(r));if(null==t)throw C("Target object",[i,"null"],j|T);for(var o,a=l(t),f=0,u=r.length;f<u;++f)if(null!=(o=r[f]))for(var c in o)l.prototype.hasOwnProperty.call(o,c)&&(a[c]=o[c]);return a};!(function(t){for(var e=[g,g.prototype],r=function(){return v.defineProperty},n=0,i=e.length;n<i;++n)e[n][t]=r})("supportsNativeGettersAndSetters"),(function(t){S(g.prototype,t)})({getData:(function(t){return function(e){return this.get(e,t)}})({dataOnly:!0}),getMetadata:(function(t){return function(e){return this.get(e,t)}})({metadataOnly:!0}),isFull:function(){return v.defineProperty?this.size===this.capacity:this.getSize()===this.getCapacity()},isEmpty:function(){return 0===(v.defineProperty?this.size:this.getSize())}}),typeof a===t&&typeof a.exports===t?a.exports=g:typeof f===e&&f.amd?f(["DataCache"],[],g):o.DataCache=g})(typeof this.window===t?this.window:typeof this.global===t?this.global:this,this.module,this.define,Error,TypeError,RangeError,Date,Math,Object,Array,Number)})();