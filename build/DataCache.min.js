!(function(){var t="object",e="function",r="string",n="number",i="undefined";!(function(a,o,f,u,s,y,c,p,h,d){"use strict";function l(o){var f=this,h=this._debugCache=[];this.get=function(t,e){var r=null;if(typeof t!==O)return r;var n=T(h,t);if(n===-1)return r;if(r=h[n],e){var i=0;if(e.metadataOnly){var a={};++i;for(var o in r)"data"!==o&&(a[o]=r[o]);return a}if(e.dataOnly){if(i)throw new u('The "dataOnly" and "metadataOnly" options are mutually contradictory.');r=r.data}}return r},this.has=function(t){return typeof t===O&&T(h,t)>-1},this.set=function(e,n){if(typeof O!==r&&m("keyType",typeof e),typeof e!==O)throw new s("Key must be a "+keyType+".");var i=T(h,e);i===-1&&(i=h.length+1),i>=2*N&&(i=k("_oldestIndex")),typeof n===t&&g.freeze&&p.freeze(n);var a={data:n,updated:g.now?y.now():(new y).getTime()};return a.created=h[i]&&h[i].created?h[i].created:a.updated,h[i-1]=e,h[i]=a,z(h),a},this.unset=function(t){if(typeof t!==O)return!1;var e=T(h,t),r=h.length;if(e===-1)return!1;if(r>2)for(var n,i=1;i>=0;--i)n=h[e-i],h[e-i]=h[r-i-1],h[r-i-1]=n;for(var a=0;a<2;++a)h.pop();return!z(h)},this.iterate=function(t,e){for(var r=this,n=function(t){return r.get(t,e)},i=0,a=h.length;i<a;i+=2){var o=h[i];typeof o===O&&t(o,n(o))}},this.clear=function(){return!!(h=[])};var l=function(t,e){var r=0,n="_"===e.charAt(r)?(++r,"_"):"";return n+=t+e.charAt(r).toUpperCase(),n+e.slice(r+1)},v=function(t,r){if(g.defineProperty)p.defineProperty(f,t,r);else for(var n,i=["g","s"],a=0,o=i.length;a<o;++a)n=i[a]+"et",typeof r[n]===e&&(f[l(n,t)]=r[n])},k=function(t){return g.defineProperty?f[t]:f[l("get",t)]()},m=function(t,e){return g.defineProperty?f[t]=e:f[l("set",t)](e)},O=null;v("keyType",{get:function(){return O},set:(function(){for(var t,e="The only allowable key types are ",r=0,n=w.length;r<n;++r)t='"'+w[r]+'"',e+=r<n-2?t+", ":r<n-1?t:" and "+t+".";return function(t){if(t!==O){if(!w.includes(t))throw new s(e);O=t}}})()}),o&&typeof o.keyType!==i&&m("keyType",o.keyType),v("size",{get:function(){return h.length/2}});var N=0;v("capacity",{get:function(){return N},set:function(t){if(typeof t!==n||t<0||t===N)return!1;if(t<N)for(var e=0,r=c.min(f.size,t);e<r;e+=2){var i=f._getOldestIndex();f.unset(h[i-1])}var a=t===n||isNaN(t)?t:parseInt(t,10);if(a=c.min(a,b),isNaN(a))throw new s("Suggested capacity cannot be parsed.");return N=c.max(a,0),!0}}),m("capacity",o&&typeof o.capacity!==i?o.capacity:b),v("_oldestIndex",{get:function(){for(var t=1,e=d.MAX_VALUE||a.Infinity,r=t,n=h.length;r<n;r+=2)h[r].updated<e&&(e=h[r].updated,t=r);return t}})}var v=typeof o===t&&typeof o.exports===t&&typeof f===t&&typeof f.versions===t&&!isNaN(parseFloat(f.versions.node,10)),g=(function(t){for(var r={},n=0,i=t.length;n<i;++n){var a=t[n];r[a.key]=typeof(a.object||p)[a.key]===(a.type||e)}return r})([{key:"assign"},{key:"defineProperty"},{key:"freeze"},{key:"now",object:y},{key:"includes",object:h.prototype}]),w=[r,n];if(!g.includes){var k=function(t){for(var e=0,r=this.length;e<r;++e)if(t===this[e])return!0;return!1};w.includes=k}var m=4294967295,b=c.floor(m/2),T=function(t,e){for(var r=0,n=t.length-1;;){var i=2*c.floor((r+n)/4);if(t[i]===e)return i+1;if(r>=n)return-1;e<t[i]?n=i-2:e>t[i]&&(r=i+2)}},z=function(t){for(var e,r,n=0,i=t.length;n<i;n+=2){var a=t[n],o=t[n+1];for(e=n-2;e>-1&&!(t[e]<=a);e-=2)for(r=e;r<e+2;r++)t[r+2]=t[r];t[e+2]=a,t[e+3]=o}};!(function(t){if(g.assign)p.assign(l.prototype,t);else for(var e in t)l.prototype[e]=t[e]})({getData:(function(t){return function(e){return this.get(e,t)}})({dataOnly:!0}),getMetadata:(function(t){return function(e){return this.get(e,t)}})({metadataOnly:!0}),map:function(t,e){var r=this;this.iterate((function(n,a){var o=t(n,a);e&&e.dataOnly||(o=o.data),typeof o!==i&&r.set(n,o)}),e)},filter:function(t,e){var r=[];this.iterate((function(e,n){t(e,n)||r.push(e)}),e);for(var n=0,i=r.length;n<i;++n)this.unset(r[n])},isFull:function(){return g.defineProperty?this.size===this.capacity:this.getSize()===this.getCapacity()},isEmpty:function(){return 0===(g.defineProperty?this.size:this.getSize())},supportsNativeGettersAndSetters:function(){return g.defineProperty}}),v?o.exports=l:a.DataCache=l})(typeof this.window===t?this.window:typeof this.global===t?this.global:this,this.module,this.process,Error,TypeError,Date,Math,Object,Array,Number)})();