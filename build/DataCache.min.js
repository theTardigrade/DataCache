!(function(t,e,r,n,i,o,a,f,u,c,s){"use strict";function y(e){var r=this,n=this._debugCache=[];this.get=(function(){for(var t=["data","metadata"],e=new c(t.length),r=0,i=e.length;r<i;++r)e[r]=t[r]+"Only";return function(r,i){var o=null;if(typeof r!==k)return o;var a=N(n,r);if(a===-1)return o;if(o=n[a],i)for(var f=0,u=0,c=e.length;f<c;++f)if(i[e[f]]){if(u++)throw M("Options",e,_|P|O|x);o=o[t[f]]}return o}})(),this.has=function(t){return typeof t===k&&N(n,t)>-1},this.set=function(t,e){if(typeof k!==h&&b("keyType",typeof t),typeof t!==k)throw M("Key","a "+k,A,i);if(null==e)throw M("Data",[g,v],O|P,i);var r=N(n,t);r===-1&&(r=n.length+1),r>=2*T&&(r=l("_oldestIndex"));var o={data:e},a=o.metadata={updated:F()},f=n[r]&&n[r].metadata&&typeof n[r].metadata.created===d?n[r].metadata:a;return a.created=f.created||f.updated,m.freeze&&D(o),n[r-1]=t,n[r]=o,C(n),o},this.unset=function(t){var e=null;if(typeof t!==k)return e;var r=N(n,t),i=n.length;if(r===-1)return e;if(i>2)for(var o,a=1;a>=0;--a)o=n[r-a],n[r-a]=n[i-a-1],n[i-a-1]=o;return e=n.pop(),n.pop(),C(n),e},this.iterate=function(t,e){for(var r,i=0,o=n.length;i<o;i+=2)r=n[i],t(r,this.get(r,e))},this.map=function(t,e){for(var r,i,o=!e||!e.dataOnly,a=0,f=n.length;a<f;a+=2)r=n[a],i=t(r,this.get(r,e)),this.set(r,o?i.data:i)},this.filter=function(t,e){for(var r,i,o,a,f=0,u=n.length;f<u;)if(r=n[f],t(r,this.get(r,e)))f+=2;else{for(var c=0;c<2;++c)i=f+c,o=u-2+c,a=n[i],n[i]=n[o],n[o]=a;u=n.length-=2;for(var s=f,y=u-2;s<y;s+=2)for(var l=0;l<2;++l)i=s+l,o=i+2,a=n[i],n[i]=n[o],n[o]=a}},this.clear=function(){n=[]};var a=function(t,e){var r=0,n="_"===e.charAt(r)?(++r,"_"):"";return n+=t+e.charAt(r).toUpperCase(),n+e.slice(r+1)},y=function(t,e){if(m.defineProperty)u.defineProperty(r,t,e);else for(var n,i=["g","s"],o=0,f=i.length;o<f;++o)n=i[o]+"et",typeof e[n]===p&&(r[a(n,t)]=e[n])},l=function(t){return m.defineProperty?r[t]:r[a("get",t)]()},b=function(t,e){return m.defineProperty?r[t]=e:r[a("set",t)](e)},k=null;y("keyType",{get:function(){return k},set:(function(){var t=M("keyType",w,O|j,i);return function(e){if(e!==k){if(!w.includes(e))throw t;k=e}}})()}),e&&typeof e.keyType!==g&&b("keyType",e.keyType),y("size",{get:function(){return n.length/2},set:function(t){if(!(t>=l("size"))){var e="capacity",r=function(t){b(e,t)},n=l(e);r(t),r(n)}}});var T=0;y("capacity",{get:function(){return T},set:(function(){var t=function(t,e,r){return M("capacity",t,j|e,r)};return function(e){if(e!==T){if(typeof e!==d||isNaN(e))throw t("a number (excluding NaN)",A,i);if(e<0)throw t("negative",P,o);if(e<T)for(var a=f.min(T,r.size)-e,u=0;u<a;++u){var c=l("_oldestIndex");r.unset(n[c-1])}T=f.min(f.round(e),z)}}})()}),b("capacity",e&&typeof e.capacity!==g?e.capacity:z),y("_oldestIndex",{get:function(){for(var e=1,r=s.MAX_VALUE||t.Infinity,i=e,o=n.length;i<o;i+=2)n[i].metadata.updated<r&&(r=n[i].metadata.updated,e=i);return e}})}var l="object",p="function",h="string",d="number",g="undefined",v="null",m=(function(t){for(var e={},r=0,n=t.length;r<n;++r){var i=t[r];e[i.key]=typeof(i.object||u)[i.key]===(i.type||p)}return e})([{key:"assign"},{key:"defineProperty"},{key:"freeze"},{key:"now",object:a},{key:"includes",object:c.prototype},{key:"isArray",object:c}]),w=[h,d];if(!m.includes){var b=function(t){for(var e=0,r=this.length;e<r;++e)if(t===this[e])return!0;return!1};w.includes=b}var k=4294967295,z=f.floor(k/2),A=0,T=1,j=1,P=2,O=4,_=8,x=16,E=1,N=function(t,e){for(var r=0,n=t.length-1;;){var i=2*f.floor((r+n)/4);if(t[i]===e)return i+1;if(r>=n)return-1;e<t[i]?n=i-2:e>t[i]&&(r=i+2)}},C=function(t){for(var e,r,n=0,i=t.length;n<i;n+=2){var o=t[n],a=t[n+1];for(e=n-2;e>-1&&!(t[e]<=o);e-=2)for(r=e;r<e+2;r++)t[r+2]=t[r];t[e+2]=o,t[e+3]=a}},D=function(t){for(var e in t)typeof t===l&&D(t[e]);u.freeze(t)},S=(function(){var t="isArray";return m[t]?c[t]:function(t){"[object Array]"===u.prototype.toString.call(t)}})(),I=function(t,e){var r="";if(S(t))for(var n,i=0,o=t.length;i<o;++i)n='"'+t[i].toString()+'"',r+=i<o-2?n+", ":i<o-1?n:" "+(e&T?"or":"and")+" "+n;return r},M=function(t,e,r,i){var o=(r&j?"Property ["+t+"]":t)+" "+(r&P?"cannot":"must")+" "+(r&x?"contain":"be")+" "+(r&_?"more than ":"")+(r&O?"one of the following: "+I(e,T):e)+".",a=typeof i===p&&typeof i.name===h&&"Error"===i.name.slice(-5);return new(a?i:n)(o)},U=(function(){var t="assign";return m[t]?u[t]:function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];if(null==t)throw M("Target object",[g,v],O|P,i);for(var o,a=u(t),f=0,c=r.length;f<c;++f)if(null!=(o=r[f]))for(var s in o)u.prototype.hasOwnProperty.call(o,s)&&(a[s]=o[s]);return a}})(),F=(function(){var t="now",e=m[t];return function(r){var n=(e?a[t]:(new a).getTime)();return r&E?f.round(n/1e3):n}})(),G=(function(t){for(var e=[y,y.prototype],r=function(){return m.defineProperty},n=0,i=e.length;n<i;++n)e[n][t]=r;return r()})("supportsNativeGettersAndSetters"),K={getData:(function(t){return function(e){return this.get(e,t)}})({dataOnly:!0}),getMetadata:(function(t){return function(e){return this.get(e,t)}})({metadataOnly:!0}),isFull:function(){return G?this.size===this.capacity:this.getSize()===this.getCapacity()},isEmpty:function(){return 0===(G?this.size:this.getSize())}};U(y.prototype,K),typeof e===l&&typeof e.exports===l?e.exports=y:typeof r===p&&r.amd?r(["DataCache"],[],y):t.DataCache=y})(null!=this.window?this.window:null!=this.global?this.global:this,this.module,this.define,Error,TypeError,RangeError,Date,Math,Object,Array,Number);