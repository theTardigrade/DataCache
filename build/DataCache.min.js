!(function(){var t="object",e="function",n="string",r="number",i="undefined";!(function(o,a,f,u,s,c,y,p,h,l,d){"use strict";function g(t){var a=this,f=this._debugCache=[];this.get=(function(){for(var t=["data","metadata"],e=new l(t.length),n=0,r=e.length;n<r;++n)e[n]=t[n]+"Only";return function(n,r){var i=null;if(typeof n!==_)return i;var o=z(f,n);if(o===-1)return i;if(i=f[o],r)for(var a=0,s=0,c=e.length;a<c;++a)if(r[e[a]]){if(s++)throw new u("The "+T(e)+" options are mutually contradictory.");i=i[t[a]]}return i}})(),this.has=function(t){return typeof t===_&&z(f,t)>-1},this.set=function(t,e){if(typeof _!==n&&j("keyType",typeof t),typeof t!==_)throw new s("Key must be a "+_+".");if(typeof e===i||null===e)return this.unset(t);var o=z(f,t);o===-1&&(o=f.length+1),o>=2*x&&(o=b("_oldestIndex"));var a={data:e},u=a.metadata={updated:v.now?y.now():(new y).getTime()},c=f[o]&&f[o].metadata&&typeof f[o].metadata.created===r?f[o].metadata:u;return u.created=c.created||c.updated,v.freeze&&P(a),f[o-1]=t,f[o]=a,A(f),a},this.unset=function(t){var e=null;if(typeof t!==_)return e;var n=z(f,t),r=f.length;if(n===-1)return e;if(r>2)for(var i,o=1;o>=0;--o)i=f[n-o],f[n-o]=f[r-o-1],f[r-o-1]=i;return e=f.pop(),f.pop(),A(f),e},this.iterate=function(t,e){for(var n,r=0,i=f.length;r<i;r+=2)n=f[r],t(n,this.get(n,e))},this.map=function(t,e){for(var n,r,i=!e||!e.dataOnly,o=0,a=f.length;o<a;o+=2)n=f[o],r=t(n,this.get(n,e)),this.set(n,i?r.data:r)},this.filter=function(t,e){for(var n,r=0,i=f.length;r<i;r+=2)n=f[r],t(n,this.get(n,e))||(f.splice(r,2),r-=2,i-=2)},this.clear=function(){f=[]};var g=function(t,e){var n=0,r="_"===e.charAt(n)?(++n,"_"):"";return r+=t+e.charAt(n).toUpperCase(),r+e.slice(n+1)},w=function(t,n){if(v.defineProperty)h.defineProperty(a,t,n);else for(var r,i=["g","s"],o=0,f=i.length;o<f;++o)r=i[o]+"et",typeof n[r]===e&&(a[g(r,t)]=n[r])},b=function(t){return v.defineProperty?a[t]:a[g("get",t)]()},j=function(t,e){return v.defineProperty?a[t]=e:a[g("set",t)](e)},_=null;w("keyType",{get:function(){return _},set:(function(){var t="The only allowable key types are "+T(m)+".";return function(e){if(e!==_){if(!m.includes(e))throw new s(t);_=e}}})()}),t&&typeof t.keyType!==i&&j("keyType",t.keyType),w("size",{get:function(){return f.length/2},set:function(t){if(!(t>=b("size"))){var e="capacity",n=function(t){j(e,t)},r=b(e);n(t),n(r)}}});var x=0;w("capacity",{get:function(){return x},set:(function(){var t=function(t,e){return new e("Capacity must be "+t+".")};return function(e){if(e!==x){if(typeof e!==r||isNaN(e))throw t("a number (excluding NaN)",s);if(e<0)throw t("non-negative",c);if(e<x)for(var n=p.min(x,a.size)-e,i=0;i<n;++i){var o=b("_oldestIndex");a.unset(f[o-1])}x=p.min(p.round(e),k)}}})()}),j("capacity",t&&typeof t.capacity!==i?t.capacity:k),w("_oldestIndex",{get:function(){for(var t=1,e=d.MAX_VALUE||o.Infinity,n=t,r=f.length;n<r;n+=2)f[n].metadata.updated<e&&(e=f[n].metadata.updated,t=n);return t}})}var v=(function(t){for(var n={},r=0,i=t.length;r<i;++r){var o=t[r];n[o.key]=typeof(o.object||h)[o.key]===(o.type||e)}return n})([{key:"assign"},{key:"defineProperty"},{key:"freeze"},{key:"now",object:y},{key:"includes",object:l.prototype},{key:"isArray",object:l}]),m=[n,r];if(!v.includes){var w=function(t){for(var e=0,n=this.length;e<n;++e)if(t===this[e])return!0;return!1};m.includes=w}var b=4294967295,k=p.floor(b/2),z=function(t,e){for(var n=0,r=t.length-1;;){var i=2*p.floor((n+r)/4);if(t[i]===e)return i+1;if(n>=r)return-1;e<t[i]?r=i-2:e>t[i]&&(n=i+2)}},A=function(t){for(var e,n,r=0,i=t.length;r<i;r+=2){var o=t[r],a=t[r+1];for(e=r-2;e>-1&&!(t[e]<=o);e-=2)for(n=e;n<e+2;n++)t[n+2]=t[n];t[e+2]=o,t[e+3]=a}},T=function(t){var e="";if(v.isArray?l.isArray(t):"[object Array]"===h.prototype.toString.call(t))for(var n,r=0,i=t.length;r<i;++r)n='"'+t[r]+'"',e+=r<i-2?n+", ":r<i-1?n:" and "+n;return e},P=function(e){for(var n in e)typeof e===t&&P(e[n]);h.isFrozen(e)||h.freeze(e)};!(function(t){for(var e=[g,g.prototype],n=function(){return v.defineProperty},r=0,i=e.length;r<i;++r)e[r][t]=n})("supportsNativeGettersAndSetters"),(function(t){if(v.assign)h.assign(g.prototype,t);else for(var e in t)g.prototype[e]=t[e]})({getData:(function(t){return function(e){return this.get(e,t)}})({dataOnly:!0}),getMetadata:(function(t){return function(e){return this.get(e,t)}})({metadataOnly:!0}),isFull:function(){return v.defineProperty?this.size===this.capacity:this.getSize()===this.getCapacity()},isEmpty:function(){return 0===(v.defineProperty?this.size:this.getSize())}}),typeof a===t&&typeof a.exports===t?a.exports=g:typeof f===e&&f.amd?f(["DataCache"],[],g):o.DataCache=g})(typeof this.window===t?this.window:typeof this.global===t?this.global:this,this.module,this.define,Error,TypeError,RangeError,Date,Math,Object,Array,Number)})();