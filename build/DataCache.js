!(function(){var e="object",t="function",r="string",n="number",o="undefined";!(function(i,a,f,u,y,s,p,c){"use strict";function d(i){var a=this,d=this._debugCache=[];this.get=function(e,t){var r=null;if(typeof e!==m("keyType"))return r;var n=w(d,e);if(n===-1)return r;if(r=d[n],t){var o=0;if(t.metadataOnly){var i={};++o;for(var a in r)"data"!==a&&(i[a]=r[a]);return i}if(t.dataOnly){if(o)throw new f('The "dataOnly" and "metadataOnly" options are mutually contradictory.');r=r.data}}return r},this.has=function(e){var t=m("keyType");return typeof e===t&&w(d,e)>-1},this.set=function(t,n){var o=m("keyType");if(typeof o!==r&&b("keyType",o=typeof t),typeof t!==o)throw new u("Key must be a "+o+".");var i=w(d,t);i===-1&&(i=d.length+1),i>=2*m("capacity")&&(i=m("_oldestIndex")),typeof n===e&&g.freeze&&p.freeze(n);var a={data:n,updated:g.now?y.now():(new y).getTime()};return a.created=d[i]&&d[i].created?d[i].created:a.updated,d[i-1]=t,d[i]=a,k(d),a},this.unset=function(e){if(typeof e!==m("keyType"))return!1;var t=w(d,e),r=d.length;if(t===-1)return!1;if(r>2)for(var n,o=1;o>=0;--o)n=d[t-o],d[t-o]=d[r-o-1],d[r-o-1]=n;for(var i=0;i<2;++i)d.pop();return!k(d)},this.iterate=function(e,t){for(var r=m("keyType"),n=this,o=function(e){return n.get(e,t)},i=0,a=d.length;i<a;i+=2){var f=d[i];typeof f===r&&e(f,o(f))}},this.clear=function(){return!!(d=[])};var l=function(e,t){var r=0,n="_"===t.charAt(r)?(++r,"_"):"";return n+=e+t.charAt(r).toUpperCase(),n+t.slice(r+1)},T=function(e,r){if(g.defineProperty)p.defineProperty(a,e,r);else for(var n,o=["g","s"],i=0,f=o.length;i<f;++i)n=o[i]+"et",typeof r[n]===t&&(a[l(n,e)]=r[n])},m=function(e){return g.defineProperty?a[e]:a[l("get",e)]()},b=function(e,t){return g.defineProperty?a[e]=t:a[l("set",e)](t)},z=null;T("keyType",{get:function(){return z},set:(function(){for(var e,t="The only allowable key types are ",r=0,n=h.length;r<n;++r)e='"'+h[r]+'"',t+=r<n-2?e+", ":r<n-1?e:" and "+e+".";return function(e){var r=(function(){for(var t=0,r=h.length;t<r;++t)if(e===h[t])return!0;return!1})();if(e!==z){if(!r)throw new u(t);z=e.toLowerCase()}}})()}),i&&typeof i.keyType!==o&&b("keyType",i.keyType),T("size",{get:function(){return d.length/2}});var N=0;T("capacity",{get:function(){return N},set:function(e){if(typeof e!==n||e<0||e===N)return!1;if(e<N)for(var t=0,r=s.min(a.size,e);t<r;t+=2){var o=a._getOldestIndex();a.unset(d[o-1])}var i=e===n||isNaN(e)?e:parseInt(e,10);if(i=s.min(i,v),isNaN(i))throw new u("Suggested capacity cannot be parsed.");return N=s.max(i,0),!0}}),b("capacity",i&&typeof i.capacity!==o?i.capacity:v),T("_oldestIndex",{get:function(){for(var e=1,t=c.MAX_VALUE||s.pow(2,48),r=e,n=d.length;r<n;r+=2)d[r].updated<t&&(t=d[r].updated,e=r);return e}})}var l=typeof a===e&&typeof a.exports===e&&typeof process===e&&typeof process.versions==e&&!isNaN(parseFloat(process.versions.node,10)),h=[r,n],v=4294967295,g=(function(e){for(var r={},n=0,o=e.length;n<o;++n){var i=e[n];r[i.key]=typeof(i.object||p)[i.key]===(i.type||t)}return r})([{key:"assign"},{key:"defineProperty"},{key:"freeze"},{key:"now",object:y}]),w=function(e,t){for(var r=0,n=e.length/2-1,o=void 0;;){if(o=2*s.floor((r+n)/2),e[o]===t)return o+1;if(r>=n)return-1;t<e[o]?n=o-1:t>e[o]&&(r=o+1)}},k=function(e){for(var t,r,n=0,o=e.length;n<o;n+=2){var i=e[n],a=e[n+1];for(t=n-2;t>-1&&!(e[t]<=i);t-=2)for(r=t;r<t+2;r++)e[r+2]=e[r];e[t+2]=i,e[t+3]=a}};!(function(e){if(g.assign)p.assign(d.prototype,e);else for(var t in e)d.prototype[t]=e[t]})({getData:(function(e){return function(t){return this.get(t,e)}})({dataOnly:!0}),getMetadata:(function(e){return function(t){return this.get(t,e)}})({metadataOnly:!0}),isFull:function(){return g.defineProperty?this.size===this.capacity:this.getSize()===this.getCapacity()},isEmpty:function(){return 0===(g.defineProperty?this.size:this.getSize())},supportsNativeGettersAndSetters:function(){return g.defineProperty}}),l?a.exports=d:i.DataCache=d})(typeof window===e?window:typeof global===e?global:this,this.module,Error,TypeError,Date,Math,Object,Number)})();