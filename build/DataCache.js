!(function(){var t="object",e="function",r="string",n="number",o="undefined";!(function(a,i,f,s,u,y,p,c){"use strict";function h(e){var a=this,i=this._debugCache=[];if(this.get=function(t,e){var r=null;if(typeof t!==this.keyType)return r;var n=w(i,t);if(n===-1)return r;if(r=i[n],e){var o=0;if(e.metadataOnly){var a={};++o;for(var s in r)"data"!==s&&(a[s]=r[s]);return a}if(e.dataOnly){if(o)throw new f('The "dataOnly" and "metadataOnly" options are mutually contradictory.');r=r.data}}return r},this.has=function(t){return typeof t===this.keyType&&w(i,t)>-1},this.set=function(e,n){if(this.keyType!==r&&(this.keyType=typeof e),typeof e!==this.keyType)throw new s("Key must be a "+this.keyType+".");var o=w(i,e);o===-1&&(o=i.length+1),o>=2*this.capacity&&(o=this._oldestIndex),typeof n===t&&g.freeze&&p.freeze(n);var a={data:n,updated:g.now?u.now():(new u).getTime()};return a.created=i[o]&&i[o].created?i[o].created:a.updated,i[o-1]=e,i[o]=a,k(i),a},this.unset=function(t){if(typeof t!==this.keyType)return!1;var e=w(i,t),r=i.length;if(e===-1)return!1;if(r>2)for(var n,o=1;o>=0;--o)n=i[e-o],i[e-o]=i[r-o-1],i[r-o-1]=n;for(var a=0;a<2;++a)i.pop();return!k(i)},this.iterate=function(t,e){for(var r=this,n=function(t){return r.get(t,e)},o=0,a=i.length;o<a;o+=2){var f=i[o];typeof f===this.keyType&&t(f,n(f))}},this.clear=function(){return!!(i=[])},!g.defineProperty)throw f("Browser does not support use of getters and setters.");var h=function(t,e){p.defineProperty(a,t,e)},d=r;h("keyType",{get:function(){return d},set:(function(){var t="The only allowable key types are ";return l.forEach((function(e,r,n){var o='"'+e+'"';t+=r<n.length-2?o+", ":r<n.length-1?o:" and "+o+"."})),function(e){var r=(function(){for(var t=0,r=l.length;t<r;++t)if(e===l[t])return!0;return!1})();if(e!==d){if(!r)throw new s(t);d=e.toLowerCase()}}})()}),e&&typeof e.keyType!==o&&(this.keyType=e.keyType),h("size",{get:function(){return i.length/2}});var T=0;h("capacity",{get:function(){return T},set:function(t){if(typeof t!==n||t<0||t===T)return!1;if(t<T)for(var e=0,r=Math.min(a.size,t);e<r;e+=2){var o=a._getOldestIndex();a.unset(i[o-1])}var f=t===n||isNaN(t)?t:parseInt(t,10);if(f=y.min(f,v),isNaN(f))throw new s("Suggested capacity cannot be parsed.");return T=y.max(f,0),!0}}),this.capacity=e&&typeof e.capacity!==o?e.capacity:v,h("_oldestIndex",{get:function(){for(var t=1,e=c.MAX_VALUE||y.pow(2,48),r=t,n=i.length;r<n;r+=2)i[r].updated<e&&(e=i[r].updated,t=r);return t}})}var d=typeof i===t&&typeof i.exports===t&&typeof process===t&&typeof process.versions==t&&!isNaN(parseFloat(process.versions.node,10)),l=[r,n],v=4294967295,g=(function(t){for(var r={},n=0,o=t.length;n<o;++n){var a=t[n];r[a.key]=typeof(p||a.object)[a.key]===(e||a.type)}return r})([{key:"assign"},{key:"defineProperty"},{key:"freeze"},{key:"now",object:u}]),w=function(t,e){for(var r=0,n=t.length/2-1,o=void 0;;){if(o=2*y.floor((r+n)/2),t[o]===e)return o+1;if(r>=n)return-1;e<t[o]?n=o-1:e>t[o]&&(r=o+1)}},k=function(t){for(var e,r,n=0,o=t.length;n<o;n+=2){var a=t[n],i=t[n+1];for(e=n-2;e>-1&&!(t[e]<=a);e-=2)for(r=e;r<e+2;r++)t[r+2]=t[r];t[e+2]=a,t[e+3]=i}};!(function(t){if(g.assign)p.assign(h.prototype,t);else for(var e in t)h.prototype[e]=t[e]})({getData:(function(t){return function(e){return this.get(e,t)}})({dataOnly:!0}),getMetadata:(function(t){return function(e){return this.get(e,t)}})({metadataOnly:!0}),isFull:function(){return this.size===this.capacity}}),d?i.exports=h:a.DataCache=h})(typeof window===t?window:typeof global===t?global:this,this.module,Error,TypeError,Date,Math,Object,Number)})();